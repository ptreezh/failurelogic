[build]
builder = "NIXPACKS"

[build.env]
NIXPACKS_PYTHON_VERSION = "3.12"

[phases.build]
cmds = ["python -m pip install --no-cache-dir -r api-server/requirements.txt"]

[start]
cmd = "exec python api-server/start.py"

[[services.port]]
port = 8000
type = "HTTP"

[healthcheck]
path = "/health"
interval = "30s"
timeout = "10s"
retries = 3
